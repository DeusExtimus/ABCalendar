!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("abcalendar",["exports","@angular/core","@angular/common"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).abcalendar={},t.ng.core,t.ng.common)}(this,(function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var r=i(e),a=function(){};a.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new a},token:a,providedIn:"root"}),a.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[]};var o=function(){function t(){this.eventEmitter=new e.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.setEvent=function(t){this.eventEmitter.emit(t)},t}();o.decorators=[{type:e.Component,args:[{selector:"lib-abcalendar-lib",template:'\n    <lib-calendar\n      [views]="views"\n      [initialView]="initialView"\n      [initialDate]="initialDate"\n      [events]="events"\n      (eventClick)="setEvent($event)"\n      [localeValue]="localeValue"\n    ></lib-calendar>\n  '}]}],o.ctorParameters=function(){return[]},o.propDecorators={initialView:[{type:e.Input}],initialDate:[{type:e.Input}],events:[{type:e.Input}],views:[{type:e.Input}],localeValue:[{type:e.Input}],eventEmitter:[{type:e.Output}]};Object.create;function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var l=function(){function t(){this.eventClick=new e.EventEmitter,this.today=new Date(Date.now()),this.yBtn=!1,this.mBtn=!1,this.wBtn=!1,this.dBtn=!1}return t.setMonthAndDayFormat=function(t,e){var n=[" "," "];return n[0]=t<10?"0"+t:t.toString(),n[1]=e<10?"0"+e:e.toString(),n},t.prototype.ngOnInit=function(){this.setInitialView(),this.setInitialDate(),this.checkEvents(),this.prepareButtons()},t.prototype.numSequence=function(t){return Array(t)},t.prototype.getDaysOfMonth=function(t){return(null==t?new Date(this.year,this.month+1,0):new Date(this.year,t+1,0)).getDate()},t.prototype.getEmptyStartDays=function(t){switch((null==t?new Date(this.year,this.month,1):new Date(this.year,t,1)).getDay()){case 0:return 6;case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5}},t.prototype.getEmptyEndDays=function(t){return 42-this.getDaysOfMonth(t)-this.getEmptyStartDays(t)},t.prototype.prev=function(){"year"===this.initialView?this.year--:"month"===this.initialView?this.month>0?this.month--:(this.month=11,this.year--):"week"===this.initialView?this.day-7<0?(this.day=this.getDaysOfMonth(this.month-1)+(this.day-7),0===this.month?(this.month=11,this.year--):this.month--):this.day=this.day-7:this.day>1?this.day--:(this.month--,this.day=this.getDaysOfMonth(this.month),0===this.month&&(this.day=31,this.month=11,this.year--))},t.prototype.currentDay=function(){this.year=this.today.getFullYear(),this.month=this.today.getMonth(),this.day=this.today.getDate()},t.prototype.next=function(){"year"===this.initialView?this.year++:"month"===this.initialView?this.month<11?this.month++:(this.month=0,this.year++):"week"===this.initialView?this.day+7>this.getDaysOfMonth(this.month)?(this.day=this.day+7-this.getDaysOfMonth(this.month),11===this.month?(this.month=0,this.year++):this.month++):this.day=this.day+7:this.day<this.getDaysOfMonth(this.month)-1?this.day++:(this.day=1,this.month<11?this.month++:(this.month=0,this.year++))},t.prototype.setTitle=function(){switch(this.initialView){case"year":return this.year.toString();case"month":return this.localeValue.months[this.month]+" "+this.year.toString();case"week":var e=this.getWholeWeek(),n=new Date(this.year,this.month,this.day-e[0]),i=new Date(this.year,this.month,this.day+e[1]),r=t.setMonthAndDayFormat(n.getDate()+1,n.getMonth()+1),a=t.setMonthAndDayFormat(i.getDate()+1,i.getMonth()+1);return r[0]+"."+r[1]+" - "+(a[0]+"."+a[1]+"."+i.getFullYear());case"day":var o=t.setMonthAndDayFormat(this.day,this.month+1);return o[0]+"."+o[1]+"."+this.year}},t.prototype.getItemColor=function(t){return null!=t.color&&t.color.match(/^#([0-9a-f]{3}){1,2}$/i)?t.color:"#e7e2e2"},t.prototype.getTextColor=function(t){return(.299*parseInt(t.substring(1,3),16)+.587*parseInt(t.substring(3,5),16)+.114*parseInt(t.substring(5,7),16))/255>.5?"#000000":"#FFFFFF"},t.prototype.correctDate=function(t,e,n){null==n&&(n=this.month);var i=new Date(this.year,n,e+1,1,0,0,0),r=new Date(t.dateOfExpiry);return!!(r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()&&i.getDate()===r.getDate())&&(this.itemCounter++,!0)},t.prototype.isToLate=function(){return this.itemCounter<=3},t.prototype.colorOfTheDay=function(t,e){if((null==e?Date.UTC(this.year,this.month,t+1):Date.UTC(this.year,e,t+1))===Date.UTC(this.year,this.month,this.today.getDate()))return"#ececf5"},t.prototype.getHoursOfDay=function(t){return t>=10?t.toString():"0"+t},t.prototype.isAllDayItem=function(t){return new Date(t.dateOfExpiry).getDate()===this.day},t.prototype.getDatesOfWeek=function(t){return new Date(this.year,this.month,this.day-this.getWholeWeek()[0]).getDate()+t},t.prototype.resetCounter=function(){this.itemCounter=0},t.prototype.setInitialView=function(){null==this.initialView&&(this.initialView="month")},t.prototype.setInitialDate=function(){var t;t=null==this.initialDate?new Date(Date.now()):this.initialDate,this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate()},t.prototype.checkEvents=function(){null===this.events&&console.log("NO EVENTS")},t.prototype.getWholeWeek=function(){switch(new Date(this.year,this.month,this.day+1).getDay()){case 0:return[6,0];case 1:return[0,6];case 2:return[1,5];case 3:return[2,4];case 4:return[3,3];case 5:return[4,2];case 6:return[5,1]}},t.prototype.prepareButtons=function(){var t,e;if(null==this.views)this.mBtn=!0,this.wBtn=!0,this.dBtn=!0,this.dBtn=!0;else try{for(var n=s(this.views),i=n.next();!i.done;i=n.next()){switch(i.value){case"year":this.yBtn=!0;break;case"month":this.mBtn=!0;break;case"week":this.wBtn=!0;break;case"day":this.dBtn=!0}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}();l.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new l},token:l,providedIn:"root"}),l.decorators=[{type:e.Component,args:[{selector:"lib-calendar",template:'<div class="container-fluid">\n  <div class="ml-5 mr-5 text-center">\n    \x3c!--  HEADER--\x3e\n    <div class="row mt-5">\n      <div class="col-4">\n        <div class="btn-group" role="group">\n          <button type="button" class="btn btn-outline-dark" (click)="prev()"> &#60;</button>\n          <button type="button" class="btn btn-outline-dark"\n                  (click)="currentDay()">{{localeValue.others[4]}}</button>\n          <button type="button" class="btn btn-outline-dark" (click)="next()">&#62;</button>\n        </div>\n      </div>\n      <div class="col-4 text-center"><h1>{{setTitle()}}</h1></div>\n      <div class="col-4">\n        <div class="btn-group text-right" role="group">\n          <button type="button" class="btn btn-outline-dark" *ngIf="yBtn"\n                  (click)="initialView = \'year\'; itemCounter = 0">{{localeValue.others[0]}}</button>\n          <button type="button" class="btn btn-outline-dark" *ngIf="mBtn"\n                  (click)="initialView = \'month\'; itemCounter = 0">{{localeValue.others[2]}}</button>\n          <button type="button" class="btn btn-outline-dark" *ngIf="wBtn"\n                  (click)="initialView = \'week\'; itemCounter = 0">{{localeValue.others[1]}}</button>\n          <button type="button" class="btn btn-outline-dark" *ngIf="dBtn"\n                  (click)="initialView = \'day\'; itemCounter = 0">{{localeValue.others[3]}}</button>\n        </div>\n      </div>\n    </div>\n\n    \x3c!--JAHRESANSICHT--\x3e\n    <div class="row" *ngIf="initialView ==\'year\'">\n      <div *ngFor="let column of numSequence(12); let f = index;" class="col-lg-4 mt-3">\n        <div class="border">\n          <div class="col-12 justify-content-center">\n            \x3c!--            Monthnames--\x3e\n            <div class="container-fluid text-center">\n              <h5 style="font-weight: bolder">{{localeValue.months[f]}}</h5>\n            </div>\n            <div class="row">\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[0]}}</h5></div>\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[1]}}</h5></div>\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[2]}}</h5></div>\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[3]}}</h5></div>\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[4]}}</h5></div>\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[5]}}</h5></div>\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[6]}}</h5></div>\n\n              <div *ngFor="let beforeDay of numSequence(getEmptyStartDays(f)); let ac = index;"\n                   class="border w-14 h-117px">\n              </div>\n              <div *ngFor="let currentDay of numSequence(getDaysOfMonth(f)); let dayNumber = index;"\n                   class="border text-left w-14 h-117px"\n                   [ngStyle]="{\'background-color\': colorOfTheDay(dayNumber, f)}">\n                <div class="ml-2">\n                  {{dayNumber + 1}}\n                  {{resetCounter()}}\n                </div>\n                <div *ngFor="let item of events">\n                  <div *ngIf="itemCounter < 3">\n                    <div *ngIf="correctDate(item, dayNumber, f)" class="border border-dark rounded m-1"\n                         [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\n                      <div class="ml-1 crop pointer" (click)="eventClick.emit(item)">\n                        {{item.title}}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div *ngFor="let afterDay of numSequence(getEmptyEndDays(f)); let daysOfNextMonth = index;"\n                   class="border w-14 h-117px"\n                   style="color: lightgray">\n                {{daysOfNextMonth + 1}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!--MONATSANSICHT--\x3e\n    <div *ngIf="initialView == \'month\'">\n      <div class="row">\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[0]}}</h5></div>\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[1]}}</h5></div>\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[2]}}</h5></div>\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[3]}}</h5></div>\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[4]}}</h5></div>\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[5]}}</h5></div>\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[6]}}</h5></div>\n        <div *ngFor="let beforeday of numSequence(getEmptyStartDays()); let ac = index;"\n             class="border w-14 h-117px">\n        </div>\n        <div *ngFor="let currentday of numSequence(getDaysOfMonth()); let dayNumber = index"\n             class="border text-left w-14 h-117px" [ngStyle]="{\'background-color\': colorOfTheDay(dayNumber)}">\n          <div class="ml-2">\n            {{dayNumber + 1}}\n            {{resetCounter()}}\n          </div>\n          <div *ngFor="let item of events">\n            <div *ngIf="itemCounter < 3">\n              <div *ngIf="correctDate(item, dayNumber)">\n                <div class="ml-1 border border-dark rounded m-1 crop pointer" (click)="eventClick.emit(item)"\n                     [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\n                  {{item.title}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div *ngFor="let afterday of numSequence(getEmptyEndDays()); let daysOfNextMonth = index;"\n             class="border text-left w-14 h-117px lg">\n          <div class="ml-2">\n            {{daysOfNextMonth + 1}}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!--WOCHENANSICHT--\x3e\n    <div *ngIf="initialView == \'week\'">\n      <div class="justify-content-center">\n        <div class="border border-light">\n          <div class="row">\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[0]}}</h5></div>\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[1]}}</h5></div>\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[2]}}</h5></div>\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[3]}}</h5></div>\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[4]}}</h5></div>\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[5]}}</h5></div>\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[6]}}</h5></div>\n          </div>\n        </div>\n        <div class="row">\n          <div *ngFor="let counter of numSequence(7); let days = index" class="w-14 border border-grey week-height"\n               [ngStyle]="{\'background-color\': colorOfTheDay(getDatesOfWeek(days))}">\n            <div *ngFor="let item of events">\n              <div *ngIf="correctDate(item, getDatesOfWeek(days))" class="m-1">\n                <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"\n                     [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\n                  {{item.title}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!--TAGESANSICHT--\x3e\n    <div *ngIf="initialView == \'day\'">\n      <div class="row justify-content-center">\n        <div class="w-100">\n          <div class="row">\n            <div class="border border-grey w-14 bg-dark min-height">\n              <div class="lg">\n                {{localeValue.others[5]}}\n              </div>\n            </div>\n            <div class="w-85">\n              <div *ngFor="let item of events">\n                <div *ngIf="isAllDayItem(item) && correctDate(item, day - 1)">\n                  <div class="border border-grey h-50 justify-content-center">\n                    <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"\n                         [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\n                      {{item.title}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="h-2px"></div>\n          <div *ngFor="let counter of numSequence(24); let hours = index; ">\n            <div class="row">\n              <div class="border border-grey w-14 bg-dark h-50px">\n                <div class="lg">\n                  {{getHoursOfDay(hours)}}\n                </div>\n              </div>\n              <div class="w-85">\n                <div class="border border-grey h-50"></div>\n                <div class="border border-grey h-50"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <div class="container h-50px"></div>\n</div>\n',styles:[".w-14{width:14.2857%}.w-85{width:85.7143%}.pointer{cursor:pointer}.h-2px{height:2px}.h-50px{height:50px}.h-100px{height:100px}.h-117px{height:119px}.lg{color:#d3d3d3}.min-height{min-height:50px}.week-height{height:300px}.border-grey{border-color:#8f8f8f}.crop{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}]},{type:e.Injectable,args:[{providedIn:"root"}]}],l.propDecorators={initialView:[{type:e.Input}],initialDate:[{type:e.Input}],events:[{type:e.Input}],views:[{type:e.Input}],localeValue:[{type:e.Input}],eventClick:[{type:e.Output}]};var c=function(){},d=function(){},h=function(){this.weekdays=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.others=["Year","Week","Month","Day","Today","All Day"]},u=function(){};u.decorators=[{type:e.NgModule,args:[{declarations:[o,l],imports:[n.CommonModule],exports:[o]}]}],t.AbcalendarLibModule=u,t.AbcalendarLibService=a,t.CalendarComponent=l,t.Item=c,t.List=d,t.Local=h,t.ɵa=o,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=abcalendar.umd.min.js.map