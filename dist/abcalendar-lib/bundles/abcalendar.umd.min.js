!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("abcalendar",["exports","@angular/core","@angular/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).abcalendar={},e.ng.core,e.ng.common)}(this,(function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var i=r(t),a=function(){};a.ɵprov=i.ɵɵdefineInjectable({factory:function(){return new a},token:a,providedIn:"root"}),a.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[]};var o=function(){function e(){this.eventEmitter=new t.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.setEvent=function(e){this.eventEmitter.emit(e)},e}();o.decorators=[{type:t.Component,args:[{selector:"lib-abcalendar-lib",template:'\n    <lib-calendar\n      [views]="views"\n      [initialView]="initialView"\n      [initialDate]="initialDate"\n      [events]="events"\n      (eventClick)="setEvent($event)"\n      [localeValue]="localeValue"\n    ></lib-calendar>\n  '}]}],o.ctorParameters=function(){return[]},o.propDecorators={initialView:[{type:t.Input}],initialDate:[{type:t.Input}],events:[{type:t.Input}],views:[{type:t.Input}],localeValue:[{type:t.Input}],eventEmitter:[{type:t.Output}]};Object.create;function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var l=function(){function e(){this.eventClick=new t.EventEmitter,this.today=new Date(Date.now()),this.yBtn=!1,this.mBtn=!1,this.wBtn=!1,this.dBtn=!1,this.defLocales={localeEn:{weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],others:["Year","Week","Month","Day","Today","All Day"],lang:null},localeDe:{weekdays:["Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","OKtober","November","Dezember"],others:["Jahr","Woche","Monat","Tag","Heute","Ganztägig"],lang:null}}}return e.setMonthAndDayFormat=function(e,t){var n=[" "," "];return n[0]=e<10?"0"+e:e.toString(),n[1]=t<10?"0"+t:t.toString(),n},e.prototype.ngOnInit=function(){this.setInitialView(),this.setInitialDate(),this.checkEvents(),this.prepareButtons(),this.setLocaleForCalendar()},e.prototype.getMonthsForLocale=function(e){for(var t=new Intl.DateTimeFormat(e,{month:"long"}),n=[],r=0;r<12;r++){var i=new Date(Date.UTC(2e3,r,1,0,0,0));n.push(t.format(i))}return n},e.prototype.getWeekdaysForLocale=function(e){for(var t=new Intl.DateTimeFormat(e,{weekday:"long"}),n=[],r=0;r<6;r++){var i=new Date(Date.UTC(2e3,r,1,0,0,0));n.push(t.format(i))}return n},e.prototype.numSequence=function(e){return Array(e)},e.prototype.getDaysOfMonth=function(e){return(null==e?new Date(this.year,this.month+1,0):new Date(this.year,e+1,0)).getDate()},e.prototype.getEmptyStartDays=function(e){switch((null==e?new Date(this.year,this.month,1):new Date(this.year,e,1)).getDay()){case 0:return 6;case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5}},e.prototype.getEmptyEndDays=function(e){return 42-this.getDaysOfMonth(e)-this.getEmptyStartDays(e)},e.prototype.prev=function(){"year"===this.initialView?this.year--:"month"===this.initialView?this.month>0?this.month--:(this.month=11,this.year--):"week"===this.initialView?this.day-7<0?(this.day=this.getDaysOfMonth(this.month-1)+(this.day-7),0===this.month?(this.month=11,this.year--):this.month--):this.day=this.day-7:this.day>1?this.day--:(this.month--,this.day=this.getDaysOfMonth(this.month),0===this.month&&(this.day=31,this.month=11,this.year--))},e.prototype.currentDay=function(){this.year=this.today.getFullYear(),this.month=this.today.getMonth(),this.day=this.today.getDate()},e.prototype.next=function(){"year"===this.initialView?this.year++:"month"===this.initialView?this.month<11?this.month++:(this.month=0,this.year++):"week"===this.initialView?this.day+7>this.getDaysOfMonth(this.month)?(this.day=this.day+7-this.getDaysOfMonth(this.month),11===this.month?(this.month=0,this.year++):this.month++):this.day=this.day+7:this.day<this.getDaysOfMonth(this.month)-1?this.day++:(this.day=1,this.month<11?this.month++:(this.month=0,this.year++))},e.prototype.setTitle=function(){switch(this.initialView){case"year":return this.year.toString();case"month":return this.localeValue.months[this.month]+" "+this.year.toString();case"week":var t=this.getWholeWeek(),n=new Date(this.year,this.month,this.day-t[0]),r=new Date(this.year,this.month,this.day+t[1]),i=e.setMonthAndDayFormat(n.getDate()+1,n.getMonth()+1),a=e.setMonthAndDayFormat(r.getDate()+1,r.getMonth()+1);return i[0]+"."+i[1]+" - "+(a[0]+"."+a[1]+"."+r.getFullYear());case"day":var o=e.setMonthAndDayFormat(this.day,this.month+1);return o[0]+"."+o[1]+"."+this.year}},e.prototype.getItemColor=function(e){return null!=e.color&&e.color.match(/^#([0-9a-f]{3}){1,2}$/i)?e.color:"#e7e2e2"},e.prototype.getTextColor=function(e){return(.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16))/255>.5?"#000000":"#FFFFFF"},e.prototype.correctDate=function(e,t,n){null==n&&(n=this.month);var r=new Date(this.year,n,t+1,1,0,0,0),i=new Date(e.dateOfExpiry);return!!(i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()&&r.getDate()===i.getDate())&&(this.itemCounter++,!0)},e.prototype.isToLate=function(){return this.itemCounter<=3},e.prototype.colorOfTheDay=function(e,t){if((null==t?Date.UTC(this.year,new Date(Date.now()).getMonth(),e+1):Date.UTC(this.year,t,e+1))===Date.UTC(this.year,this.month,this.today.getDate()))return"#d0d0f5"},e.prototype.getHoursOfDay=function(e){return e>=10?e.toString():"0"+e},e.prototype.isAllDayItem=function(e){return new Date(e.dateOfExpiry).getDate()===this.day},e.prototype.getDatesOfWeek=function(e){return new Date(this.year,this.month,this.day-this.getWholeWeek()[0]).getDate()+e},e.prototype.resetCounter=function(){this.itemCounter=0},e.prototype.setInitialView=function(){null==this.initialView&&(this.initialView="month")},e.prototype.setInitialDate=function(){var e;e=null==this.initialDate?new Date(Date.now()):this.initialDate,this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate()},e.prototype.checkEvents=function(){null===this.events&&console.log("NO EVENTS")},e.prototype.getWholeWeek=function(){switch(new Date(this.year,this.month,this.day+1).getDay()){case 0:return[6,0];case 1:return[0,6];case 2:return[1,5];case 3:return[2,4];case 4:return[3,3];case 5:return[4,2];case 6:return[5,1]}},e.prototype.prepareButtons=function(){var e,t;if(null==this.views)this.mBtn=!0,this.wBtn=!0,this.dBtn=!0,this.yBtn=!0;else try{for(var n=s(this.views),r=n.next();!r.done;r=n.next()){switch(r.value){case"year":this.yBtn=!0;break;case"month":this.mBtn=!0;break;case"week":this.wBtn=!0;break;case"day":this.dBtn=!0}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.setLocaleForCalendar=function(){null==this.localeValue||"en-En"===this.localeValue.lang||"en-US"===this.localeValue.lang?this.localeValue=this.defLocales.localeEn:this.localeValue=this.defLocales.localeDe},e}();l.ɵprov=i.ɵɵdefineInjectable({factory:function(){return new l},token:l,providedIn:"root"}),l.decorators=[{type:t.Component,args:[{selector:"lib-calendar",template:'<div class="container-fluid">\r\n  <div class="ml-5 mr-5 text-center">\r\n    \x3c!--  HEADER--\x3e\r\n    <div class="row mt-5">\r\n      <div class="col-4">\r\n        <div class="btn-group" role="group">\r\n          <button type="button" class="btn btn-outline-dark" (click)="prev()"> &#60;</button>\r\n          <button type="button" class="btn btn-outline-dark"\r\n                  (click)="currentDay()">{{localeValue.others[4]}}</button>\r\n          <button type="button" class="btn btn-outline-dark" (click)="next()">&#62;</button>\r\n        </div>\r\n      </div>\r\n      <div class="col-4 text-center"><h1>{{setTitle()}}</h1></div>\r\n      <div class="col-4">\r\n        <div class="btn-group text-right" role="group">\r\n          <button type="button" class="btn btn-outline-dark" *ngIf="yBtn"\r\n                  (click)="initialView = \'year\'; itemCounter = 0">{{localeValue.others[0]}}</button>\r\n          <button type="button" class="btn btn-outline-dark" *ngIf="mBtn"\r\n                  (click)="initialView = \'month\'; itemCounter = 0">{{localeValue.others[2]}}</button>\r\n          <button type="button" class="btn btn-outline-dark" *ngIf="wBtn"\r\n                  (click)="initialView = \'week\'; itemCounter = 0">{{localeValue.others[1]}}</button>\r\n          <button type="button" class="btn btn-outline-dark" *ngIf="dBtn"\r\n                  (click)="initialView = \'day\'; itemCounter = 0">{{localeValue.others[3]}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--JAHRESANSICHT--\x3e\r\n    <div class="row" *ngIf="initialView ==\'year\'">\r\n      <div *ngFor="let column of numSequence(12); let f = index;" class="col-lg-4 mt-3">\r\n        <div class="border">\r\n          <div class="col-12 justify-content-center">\r\n            \x3c!--            Monthnames--\x3e\r\n            <div class="container-fluid text-center">\r\n              <h5 style="font-weight: bolder">{{localeValue.months[f]}}</h5>\r\n            </div>\r\n            <div class="row">\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[0]}}</h5></div>\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[1]}}</h5></div>\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[2]}}</h5></div>\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[3]}}</h5></div>\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[4]}}</h5></div>\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[5]}}</h5></div>\r\n              <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[6]}}</h5></div>\r\n\r\n              <div *ngFor="let beforeDay of numSequence(getEmptyStartDays(f)); let ac = index;"\r\n                   class="border w-14 h-117px lgOnHover">\r\n              </div>\r\n              <div *ngFor="let currentDay of numSequence(getDaysOfMonth(f)); let dayNumber = index;"\r\n                   class="border text-left w-14 h-117px lgOnHover"\r\n                   [ngStyle]="{\'background-color\': colorOfTheDay(dayNumber, f)}">\r\n                <div class="ml-2">\r\n                  {{dayNumber + 1}}\r\n                  {{resetCounter()}}\r\n                </div>\r\n                <div *ngFor="let item of events">\r\n                  <div *ngIf="itemCounter < 3">\r\n                    <div *ngIf="correctDate(item, dayNumber, f)" class="border border-dark rounded m-1"\r\n                         [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\r\n                      <div class="ml-1 crop pointer" (click)="eventClick.emit(item)">\r\n                        {{item.title}}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div *ngFor="let afterDay of numSequence(getEmptyEndDays(f)); let daysOfNextMonth = index;"\r\n                   class="border w-14 h-117px lg lgOnHover">\r\n                {{daysOfNextMonth + 1}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--MONATSANSICHT--\x3e\r\n    <div *ngIf="initialView == \'month\'">\r\n      <div class="row">\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[0]}}</h5></div>\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[1]}}</h5></div>\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[2]}}</h5></div>\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[3]}}</h5></div>\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[4]}}</h5></div>\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[5]}}</h5></div>\r\n        <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[6]}}</h5></div>\r\n        <div *ngFor="let beforeday of numSequence(getEmptyStartDays()); let ac = index;"\r\n             class="border w-14 h-117px lgOnHover">\r\n        </div>\r\n        <div *ngFor="let currentday of numSequence(getDaysOfMonth()); let dayNumber = index"\r\n             class="border text-left w-14 h-117px lgOnHover" [ngStyle]="{\'background-color\': colorOfTheDay(dayNumber)}">\r\n          <div class="ml-2">\r\n            {{dayNumber + 1}}\r\n            {{resetCounter()}}\r\n          </div>\r\n          <div *ngFor="let item of events">\r\n            <div *ngIf="itemCounter < 3">\r\n              <div *ngIf="correctDate(item, dayNumber)">\r\n                <div class="ml-1 border border-dark rounded m-1 crop pointer" (click)="eventClick.emit(item)"\r\n                     [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\r\n                  {{item.title}}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div *ngFor="let afterday of numSequence(getEmptyEndDays()); let daysOfNextMonth = index;"\r\n             class="border text-left w-14 h-117px lg lgOnHover">\r\n          <div class="ml-2">\r\n            {{daysOfNextMonth + 1}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--WOCHENANSICHT--\x3e\r\n    <div *ngIf="initialView == \'week\'">\r\n      <div class="justify-content-center">\r\n        <div class="border border-light">\r\n          <div class="row">\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[0]}}</h5></div>\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[1]}}</h5></div>\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[2]}}</h5></div>\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[3]}}</h5></div>\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[4]}}</h5></div>\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[5]}}</h5></div>\r\n            <div class="bg-dark text-center w-14"><h5 class="lg">{{localeValue.weekdays[6]}}</h5></div>\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div *ngFor="let counter of numSequence(7); let days = index" class="w-14 border border-grey week-height lgOnHover"\r\n               [ngStyle]="{\'background-color\': colorOfTheDay(getDatesOfWeek(days))}">\r\n            <div *ngFor="let item of events">\r\n              <div *ngIf="correctDate(item, getDatesOfWeek(days))" class="m-1">\r\n                <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"\r\n                     [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\r\n                  {{item.title}}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--TAGESANSICHT--\x3e\r\n    <div *ngIf="initialView == \'day\'">\r\n      <div class="row justify-content-center">\r\n        <div class="w-100">\r\n          <div class="row">\r\n            <div class="border border-grey w-14 bg-dark min-height">\r\n              <div class="lg">\r\n                {{localeValue.others[5]}}\r\n              </div>\r\n            </div>\r\n            <div class="w-85">\r\n              <div *ngFor="let item of events">\r\n                <div *ngIf="isAllDayItem(item) && correctDate(item, day - 1)">\r\n                  <div class="border border-grey h-50 justify-content-center">\r\n                    <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"\r\n                         [ngStyle]="{\'background-color\': getItemColor(item), \'color\': getTextColor(getItemColor(item))}">\r\n                      {{item.title}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="h-2px"></div>\r\n          <div *ngFor="let counter of numSequence(24); let hours = index; ">\r\n            <div class="row">\r\n              <div class="border border-grey w-14 bg-dark h-50px">\r\n                <div class="lg">\r\n                  {{getHoursOfDay(hours)}}\r\n                </div>\r\n              </div>\r\n              <div class="w-85">\r\n                <div class="border border-grey h-50"></div>\r\n                <div class="border border-grey h-50"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class="container h-50px"></div>\r\n</div>\r\n',styles:[".w-14{width:14.2857%}.w-85{width:85.7143%}.pointer{cursor:pointer}.h-2px{height:2px}.h-50px{height:50px}.h-100px{height:100px}.h-117px{height:119px}.lg{color:#d3d3d3}.min-height{min-height:50px}.week-height{height:300px}.border-grey{border-color:#8f8f8f}.crop{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lgOnHover:hover{background-color:#f5f5f5}"]}]},{type:t.Injectable,args:[{providedIn:"root"}]}],l.propDecorators={initialView:[{type:t.Input}],initialDate:[{type:t.Input}],events:[{type:t.Input}],views:[{type:t.Input}],localeValue:[{type:t.Input}],eventClick:[{type:t.Output}]};var c=function(){},d=function(){},h=function(){},u=function(){};u.decorators=[{type:t.NgModule,args:[{declarations:[o,l],imports:[n.CommonModule],exports:[o]}]}],e.AbcalendarLibModule=u,e.AbcalendarLibService=a,e.CalendarComponent=l,e.Item=c,e.List=d,e.Local=h,e.ɵa=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=abcalendar.umd.min.js.map