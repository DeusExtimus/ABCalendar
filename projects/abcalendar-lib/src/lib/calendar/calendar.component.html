<div class="container-fluid">
  <div class="ms-5 me-5 text-center">
    <!--  HEADER-->
    <div class="row mt-5">
      <div class="col-4">
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-outline-dark" (click)="prev()"> &#60;</button>
          <button type="button" class="btn btn-outline-dark"
                  (click)="currentDay()">{{localeValue.others[4]}}</button>
          <button type="button" class="btn btn-outline-dark" (click)="next()">&#62;</button>
        </div>
      </div>
      <div class="col-4 text-center"><h1 class="user-select-none">{{setTitle()}}</h1></div>
      <div class="col-4">
        <div class="btn-group text-right" role="group">
          <button type="button" class="btn btn-outline-dark" *ngIf="yBtn"
                  (click)="initialView = 'year'; itemCounter = 0">{{localeValue.others[0]}}</button>
          <button type="button" class="btn btn-outline-dark" *ngIf="mBtn"
                  (click)="initialView = 'month'; itemCounter = 0">{{localeValue.others[2]}}</button>
          <button type="button" class="btn btn-outline-dark" *ngIf="wBtn"
                  (click)="initialView = 'week'; itemCounter = 0">{{localeValue.others[1]}}</button>
          <button type="button" class="btn btn-outline-dark" *ngIf="dBtn"
                  (click)="initialView = 'day'; itemCounter = 0">{{localeValue.others[3]}}</button>
        </div>
      </div>
    </div>

    <!--JAHRESANSICHT-->
    <div class="row col-12" *ngIf="initialView =='year'">
      <div *ngFor="let column of numSequence(12); let f = index;" class="col-4 mt-3">
        <div class="border">
          <div class="col-12 justify-content-center">
            <!--            Monthnames-->
            <div class="container-fluid text-center">
              <h5 class="user-select-none" style="font-weight: bolder">{{localeValue.months[f]}}</h5>
            </div>
            <div class="row col-12 ms-0 user-select-none overflow-hidden">
              <div class="row text-center mx-0 px-0"
                   [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[0]}}</h5></div>
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[1]}}</h5></div>
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[2]}}</h5></div>
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[3]}}</h5></div>
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[4]}}</h5></div>
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[5]}}</h5></div>
                <div class="w-14"><h5 [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[6]}}</h5></div>
              </div>
              <div *ngFor="let beforeDay of numSequence(getEmptyStartDays(f)); let ac = index;"
                   class="border w-14 vh-9 lgOnHover">
              </div>
              <div *ngFor="let currentDay of numSequence(getDaysOfMonth(f)); let dayNumber = index;"
                   class="border text-start w-14 vh-9 lgOnHover crop"
                   [ngStyle]="{'background-color': colorOfTheDay(dayNumber, f)}">
                <div class="ms-0 user-select-none">
                  {{dayNumber + 1}}
                </div>
                <div class="row ms-n2">
                  <div *ngFor="let item of events" class="col-05 px-2">
                    <div *ngIf="correctDate(item, dayNumber, f)" class="dot crop pointer ms-0"
                         [ngStyle]="{'background-color': getItemColor(item)}"
                         (click)="eventClick.emit(item)">
                    </div>
                  </div>
                </div>
              </div>
              <div *ngFor="let afterDay of numSequence(getEmptyEndDays(f)); let daysOfNextMonth = index;"
                   class="border w-14 vh-9 lg lgOnHover text-start user-select-none">
                {{daysOfNextMonth + 1}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--MONATSANSICHT-->
    <div *ngIf="initialView == 'month'">
      <div class="row">
        <div class="row text-center mx-0 px-0" [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[0]}}</h5></div>
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[1]}}</h5></div>
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[2]}}</h5></div>
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[3]}}</h5></div>
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[4]}}</h5></div>
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[5]}}</h5></div>
          <div class="w-14"><h5 class="user-select-none"
                                [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[6]}}</h5></div>
        </div>
        <div *ngFor="let beforeday of numSequence(getEmptyStartDays()); let ac = index;"
             class="border w-14 vh-15 lgOnHover crop user-select-none">
        </div>
        <div *ngFor="let currentday of numSequence(getDaysOfMonth()); let dayNumber = index"
             class="border text-start w-14 vh-15 lgOnHover crop"
             [ngStyle]="{'background-color': colorOfTheDay(dayNumber)}">
          <div class="ms-2 user-select-none">
            {{dayNumber + 1}}
          </div>
          <div *ngFor="let item of events">
            <div *ngIf="correctDate(item, dayNumber)">
              <div class="ms-1 border border-dark crop rounded m-1 crop pointer" (click)="eventClick.emit(item)"
                   [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item))}">
                {{item.title}}
              </div>
            </div>
          </div>
        </div>
        <div *ngFor="let afterday of numSequence(getEmptyEndDays()); let daysOfNextMonth = index;"
             class="border text-start w-14 vh-15 lg crop lgOnHover">
          <div class="ms-2 user-select-none user-select-none">
            {{daysOfNextMonth + 1}}
          </div>
        </div>
      </div>
    </div>

    <!--WOCHENANSICHT-->
    <div *ngIf="initialView == 'week'">
      <div class="justify-content-center">
        <div class="border border-light">
          <div class="row text-center" [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[0]}}</h5></div>
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[1]}}</h5></div>
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[2]}}</h5></div>
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[3]}}</h5></div>
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[4]}}</h5></div>
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[5]}}</h5></div>
            <div class="w-14"><h5 class="user-select-none"
                                  [ngClass]="{'lg': theme == 'dark'}">{{localeValue.weekdays[6]}}</h5></div>
          </div>
        </div>
        <div class="row">
          <div *ngFor="let counter of numSequence(7); let days = index"
               class="w-14 border border-grey week-height crop lgOnHover"
               [ngStyle]="{'background-color': colorOfTheDay(getDatesOfWeek(days))}">
            <div *ngFor="let item of events">
              <div *ngIf="correctDate(item, getDatesOfWeek(days))" class="m-1">
                <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"
                     [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item))}">
                  {{item.title}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--TAGESANSICHT-->
    <div *ngIf="initialView == 'day'">
      <div class="row justify-content-center">
        <div class="w-100">
          <div class="row">
            <div class="border border-grey w-14 min-height"
                 [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
              <div class="user-select-none" [ngClass]="{'lg': theme == 'dark'}">
                {{localeValue.others[5]}}
              </div>
            </div>
            <div class="w-85">
              <div class="border border-grey h-50 min-height px-0 mx-0">
                <div *ngFor="let item of events">
                  <div *ngIf="isAllDayItem(item) && correctDate(item, day-1)">
                    <div class="justify-content-center">
                      <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"
                           [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item))}">
                        {{item.title}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="h-2px"></div>
          <div *ngFor="let counter of numSequence(24); let hours = index; ">
            <div class="row">
              <div class="border border-grey w-14 h-50px"
                   [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
                <div class="user-select-none" [ngClass]="{'lg': theme == 'dark'}">
                  {{getHoursOfDay(hours)}}
                </div>
              </div>
              <div class="w-85">
                <div class="border border-grey h-50"></div>
                <div class="border border-grey h-50"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="container h-50px"></div>
</div>
