<div class="container-fluid" [ngClass]="{'bg-dark': theme == 'night'}">
  <div class="mx-5 text-center">
    <!--  HEADER-->
    <div class="btn-toolbar mb-2" role="toolbar">
      <!--        PREV-TODAY-NEXT-BUTTONS-->
      <div class="col-4 mt-3">
        <div class="btn-group" role="group">
          <button type="button"
                  [ngClass]="{'btn btn-dark border rounded-start': theme == 'night',
                                'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="prev()"><span [ngClass]="{'lg': theme == 'night'}">{{'<'}}</span>
          </button>
          <button type="button"
                  [ngClass]="{'btn btn-dark border': theme == 'night',
                                'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="currentDay()"><span [ngClass]="{'lg': theme == 'night'}">{{localeValue.others[4]}}</span>
          </button>
          <button type="button"
                  [ngClass]="{'btn btn-dark border rounded-end': theme == 'night',
                                'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="next()"><span [ngClass]="{'lg': theme == 'night'}">{{'>'}}</span>
          </button>
        </div>
      </div>
      <!--      TITLE-->
      <div class="col-4 mt-3 text-center">
        <h1 class="user-select-none" [ngClass]="{'lg': theme == 'night'}">{{setTitle()}}</h1>
      </div>
      <!--      VIEW-BUTTONS-->
      <div class="col-4 mt-3">
        <div class="btn-group" role="group">
          <button type="button"
                  [ngClass]="{'btn btn-dark border rounded-start': theme == 'night', 'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="setInitialView('year')">
            <span [ngClass]="{'lg': theme == 'night'}">{{showViewInRightLang('year')}}</span>
          </button>
          <button type="button"
                  [ngClass]="{'btn btn-dark border': theme == 'night', 'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="setInitialView('month')">
            <span [ngClass]="{'lg': theme == 'night'}">{{showViewInRightLang('month')}}</span>
          </button>
          <button type="button"
                  [ngClass]="{'btn btn-dark border': theme == 'night', 'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="setInitialView('week')">
            <span [ngClass]="{'lg': theme == 'night'}">{{showViewInRightLang('week')}}</span>
          </button>
          <button type="button"
                  [ngClass]="{'btn btn-dark border rounded-end': theme == 'night', 'btn btn-outline-dark': theme == 'light' || theme == 'dark'}"
                  (click)="setInitialView('day')">
            <span [ngClass]="{'lg': theme == 'night'}">{{showViewInRightLang('day')}}</span>
          </button>
        </div>
      </div>
    </div>

    <!--JAHRESANSICHT-->
    <div class="row col-12" *ngIf="initialView =='year'">
      <div *ngFor="let column of numSequence(12); let monthNum = index;" class="col-4 mt-3">
        <div class="border" [ngClass]="{'bg-dark': theme == 'night'}">
          <div class="col-12 justify-content-center">
            <!--            Monthnames-->
            <div class="container-fluid text-center">
              <h5 class="user-select-none" [ngClass]="{'lg': theme == 'night'}"
                  style="font-weight: bolder">{{localeValue.months[monthNum]}}</h5>
            </div>
            <div class="row col-12 ms-0 user-select-none overflow-hidden">
              <div class="row text-center mx-0 px-0"
                   [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
                <div *ngFor="let dayname of localeValue.weekdays" class="w-14">
                  <h5 [ngClass]="{'lg': theme == 'dark' || theme == 'night'}">
                    {{dayname}}
                  </h5>
                </div>
              </div>
              <!--              DAYS OF PREV MONTH-->
              <div *ngFor="let beforeDay of numSequence(getEmptyStartDays(monthNum)); let ac = index;"
                   class="border w-14 vh-9 lgOnHover" [ngClass]="{'gOnHover': theme == 'night'}">
              </div>
              <!--              DAYS OF CURRENT MONTH-->
              <div *ngFor="let currentDay of numSequence(getDaysOfMonth(monthNum)); let dayNumber = index;"
                   class="border text-start w-14 vh-9 lgOnHover crop"
                   [ngClass]="{'gOnHover': theme == 'night'}"
                   [ngStyle]="{'background-color': colorOfTheDay(dayNumber, monthNum)}"
                   (click)="emitDayClick(dayNumber, monthNum)">
                <div class="ms-0 user-select-none" [ngClass]="{'lg': theme == 'night'}">
                  {{getNumbersInRightLang(dayNumber + 1)}}
                </div>
                <div class="row ms-0">
                  <div *ngFor="let item of getRightEvents(dayNumber + 1, monthNum)" class="col-05 ps-0">
                    <div class="dot crop pointer ms-0"
                         [ngClass]="{'border border-grey': theme == 'night'}"
                         [ngStyle]="{'background-color': getItemColor(item)}"
                         (click)="eventClick.emit(item)">
                    </div>
                  </div>
                </div>
              </div>
              <!--              DAYS OF NEXT MONTH-->
              <div *ngFor="let afterDay of numSequence(getEmptyEndDays(monthNum)); let daysOfNextMonth = index;"
                   class="border w-14 vh-9 lg lgOnHover text-start user-select-none"
                   (click)="emitDayClickAfterDays(daysOfNextMonth, monthNum)"
                   [ngClass]="{'gOnHover dg': theme == 'night'}">
                <div class="ms-0 user-select-none" [ngClass]="{'dg': theme == 'night'}">
                  {{daysOfNextMonth + 1}}
                </div>
                <div class="row ms-0">
                  <div *ngFor="let item of getRightEvents(daysOfNextMonth + 1, monthNum + 1)" class="col-05 ps-0">
                    <div class="dot crop pointer ms-0"
                         [ngStyle]="{'background-color': getItemColor(item)}"
                         [ngClass]="{'border border-grey': theme == 'night'}"
                         (click)="eventClick.emit(item)">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--MONATSANSICHT-->
    <div *ngIf="initialView == 'month'">
      <div class="row">
        <!--        WEEKDAYNAMES-->
        <div class="row text-center mx-0 px-0" [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
          <div *ngFor="let weekdayName of localeValue.weekdays" class="w-14 user-select-none">
            <h5 [ngClass]="{'lg': theme == 'dark'}">{{weekdayName}}</h5>
          </div>
        </div>
        <!--        DAYS FOR PREV MONTH-->
        <div *ngFor="let beforeday of numSequence(getEmptyStartDays()); let ac = index;"
             class="border w-14 vh-15 lgOnHover crop user-select-none" [ngClass]="{'gOnHover': theme == 'night'}">
        </div>
        <!--        DAYS OF CURRENT MONTH-->
        <div *ngFor="let currentday of numSequence(getDaysOfMonth()); let dayNumber = index"
             class="border text-start w-14 vh-15 lgOnHover overflow-visible"
             [ngStyle]="{'background-color': colorOfTheDay(dayNumber)}"
             [ngClass]="{'gOnHover lg': theme == 'night'}"
             (click)="emitDayClick(dayNumber)">
          <!--          DAYNUMBER-->
          <div class="ms-2 user-select-none">
            {{getNumbersInRightLang(dayNumber + 1)}}
          </div>
          <!--          EVENT-->
          <div *ngFor="let item of events">
            <div *ngIf="correctDate(item, dayNumber)">
              <div class="ms-1 crop rounded m-1 pointer" (click)="eventClick.emit(item)"
                   [ngClass]="{'border border-grey': theme == 'night', 'border border-dark': theme == 'dark' || theme == 'light'}"
                   [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item)), 'width': getWidthOfContainer(item)}">
                {{item.title}}
              </div>
            </div>
          </div>
        </div>
        <!--        DAYS OF NEXT MONTH-->
        <div *ngFor="let afterday of numSequence(getEmptyEndDays()); let daysOfNextMonth = index;"
             class="border text-start w-14 vh-15 lg crop lgOnHover" [ngClass]="{'gOnHover dg': theme == 'night'}"
             (click)="emitDayClickAfterDays(daysOfNextMonth)">
          <div class="ms-2 user-select-none">
            {{getNumbersInRightLang(daysOfNextMonth + 1)}}
          </div>
          <div *ngFor="let item of events">
            <div *ngIf="correctDate(item, daysOfNextMonth, month + 1)">
              <div class="ms-1 crop rounded m-1 crop pointer" (click)="eventClick.emit(item)"
                   [ngClass]="{'border border-grey': theme == 'night', 'border border-dark': theme == 'dark' || theme == 'light'}"
                   [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item))}">
                {{item.title}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--WOCHENANSICHT-->
    <div *ngIf="initialView == 'week'">
      <div class="justify-content-center">
        <div class="border border-light">
          <div class="row text-center" [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
            <div *ngFor="let weekdayName of localeValue.weekdays" class="user-select-none w-14">
              <h5 [ngClass]="{'lg': theme == 'dark' || theme == 'night'}">
                {{weekdayName}}
              </h5>
            </div>
          </div>
        </div>
        <div class="row mx-0">
          <div *ngFor="let counter of numSequence(7); let days = index"
               class="w-14 border border-grey week-height crop lgOnHover"
               [ngClass]="{'gOnHover': theme == 'night'}"
               [ngStyle]="{'background-color': colorOfTheDay(getDatesOfWeek(days))}">
            <div *ngFor="let item of events">
              <div *ngIf="correctDate(item, getDatesOfWeek(days))" class="m-1">
                <div class="rounded w-100 border border-dark crop pointer" (click)="eventClick.emit(item)"
                     [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item))}">
                  {{item.title}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--TAGESANSICHT-->
    <div *ngIf="initialView == 'day'">
      <div class="row justify-content-center">
        <div class="w-100">
          <div class="row">
            <div class="border border-grey w-14 min-height"
                 [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
              <div class="user-select-none" [ngClass]="{'lg': theme == 'dark' || theme == 'night'}">
                {{localeValue.others[5]}}
              </div>
            </div>
            <div class="w-85">
              <div class="border border-grey min-height px-0 mx-0">
                <div *ngFor="let item of events">
                  <div *ngIf="isAllDayItem(item) && correctDate(item, day-1)">
                    <div class="justify-content-center">
                      <div class="rounded w-100 border border-dark crop pointer mb-05" (click)="eventClick.emit(item)"
                           [ngStyle]="{'background-color': getItemColor(item), 'color': getTextColor(getItemColor(item))}">
                        {{item.title}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="h-2px"></div>
          <div *ngFor="let counter of numSequence(24); let hours = index; ">
            <div class="row">
              <div class="border border-grey w-14 h-50px"
                   [ngClass]="{'bg-dark': theme == 'dark', 'bg-light': theme == 'light'}">
                <div class="user-select-none" [ngClass]="{'lg': theme == 'dark' || theme == 'night'}">
                  {{getHoursOfDay(hours)}}
                </div>
              </div>
              <div class="w-85">
                <div class="border border-grey h-50"></div>
                <div class="border border-grey h-50"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="container h-50px"></div>
</div>
